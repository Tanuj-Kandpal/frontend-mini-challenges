import{c as _,j,r as x,v as g,a as v,b as C,d as e,e as N,f,g as p,h as k,i as w,N as I}from"./index-C8vMVBRW.js";import{c as $}from"./contributors-Dw6Pw5rq.js";function y(c,h,i){h.forEach(s=>{const a=c.get(s.developer);a?(a[i]=(a[i]??0)+1,a.totalContributions+=1):c.set(s.developer,{[i]:1,totalContributions:1})})}const S=()=>{const c=new Map;new Map([["css",_],["js",j],["react",x],["vue",g],["angular",v]]).forEach((a,l)=>{y(c,a,l)});const i=new Map;c.forEach((a,l)=>{const o=$.get(l);o&&i.set(l,{name:o?.name,pic:o?.pic,contributions:a,numberOfContributions:a.totalContributions,developer:l})});const s=new Map(Array.from(i.entries()).sort((a,l)=>l[1].numberOfContributions-a[1].numberOfContributions||a[1].name.localeCompare(l[1].name)));return new Map([...s.entries()])},H="_leaderboard_eleln_1",L="_tableContainer_eleln_8",E="_scrollHint_eleln_21",M="_table_eleln_8",R="_userHeader_eleln_69",O="_sortable_eleln_75",D="_active_eleln_85",z="_userRow_eleln_89",A="_userCell_eleln_96",W="_userLink_eleln_100",q="_avatar_eleln_112",B="_userName_eleln_124",F="_rank_eleln_131",J="_contributionCount_eleln_138",P="_techCell_eleln_144",T="_techIcon_eleln_150",t={leaderboard:H,tableContainer:L,scrollHint:E,table:M,userHeader:R,sortable:O,active:D,userRow:z,userCell:A,userLink:W,avatar:q,userName:B,rank:F,contributionCount:J,techCell:P,techIcon:T},V=S();function G(){const c=C.useRef(null),[h,i]=C.useState(!1);C.useEffect(()=>{const r=()=>{if(c.current){const{scrollWidth:n,clientWidth:u}=c.current;i(n>u)}};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]);const[s,a]=C.useState({key:"totalContributions",direction:"desc"}),l=[...V.entries()].sort((r,n)=>{const[u,b]=[r[1],n[1]];let m=0;return s.key==="totalContributions"?m=u.numberOfContributions-b.numberOfContributions:m=(u.contributions[s.key]||0)-(b.contributions[s.key]||0),s.direction==="asc"?m:-m}),o=r=>{a(n=>({key:r,direction:n.key===r&&n.direction==="desc"?"asc":"desc"}))},d=r=>s.key!==r?null:s.direction==="asc"?"↑":"↓";return e.jsxs("div",{className:t.leaderboard,children:[h&&e.jsx("div",{className:t.scrollHint,children:e.jsx("span",{children:"Scroll right →"})}),e.jsx("div",{ref:c,className:t.tableContainer,children:e.jsxs("table",{className:t.table,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{className:t.userHeader,children:"Contributor"}),e.jsxs("th",{className:`${t.sortable} ${s.key==="totalContributions"?t.active:""}`,onClick:()=>o("totalContributions"),children:["Total ",d("totalContributions")]}),e.jsxs("th",{className:`${t.sortable} ${s.key==="css"?t.active:""}`,onClick:()=>o("css"),children:[e.jsx("img",{src:N,alt:"CSS",className:t.techIcon}),d("css")]}),e.jsxs("th",{className:`${t.sortable} ${s.key==="js"?t.active:""}`,onClick:()=>o("js"),children:[e.jsx("img",{src:f,alt:"JavaScript",className:t.techIcon}),d("js")]}),e.jsxs("th",{className:`${t.sortable} ${s.key==="react"?t.active:""}`,onClick:()=>o("react"),children:[e.jsx("img",{src:p,alt:"React",className:t.techIcon}),d("react")]}),e.jsxs("th",{className:`${t.sortable} ${s.key==="angular"?t.active:""}`,onClick:()=>o("angular"),children:[e.jsx("img",{src:k,alt:"Angular",className:t.techIcon}),d("angular")]}),e.jsxs("th",{className:`${t.sortable} ${s.key==="vue"?t.active:""}`,onClick:()=>o("vue"),children:[e.jsx("img",{src:w,alt:"Vue",className:t.techIcon}),d("vue")]})]})}),e.jsx("tbody",{children:l.map(([r,n],u)=>e.jsxs("tr",{className:t.userRow,children:[e.jsx("td",{className:t.rank,children:u+1}),e.jsx("td",{className:t.userCell,children:e.jsxs("a",{href:`https://github.com/${r}`,target:"_blank",rel:"noopener noreferrer",className:t.userLink,children:[e.jsx("img",{src:`${n.pic}?v=4&s=75`,alt:n.name,className:t.avatar,loading:"lazy",onError:b=>{b.target.src="https://via.placeholder.com/40"}}),e.jsx("span",{className:t.userName,children:n.name||r})]})}),e.jsx("td",{className:t.contributionCount,children:n.numberOfContributions}),e.jsx("td",{className:t.techCell,children:n.contributions.css||0}),e.jsx("td",{className:t.techCell,children:n.contributions.js||0}),e.jsx("td",{className:t.techCell,children:n.contributions.react||0}),e.jsx("td",{className:t.techCell,children:n.contributions.angular||0}),e.jsx("td",{className:t.techCell,children:n.contributions.vue||0})]},r))})]})})]})}function U(){return e.jsxs(e.Fragment,{children:[e.jsx(I,{}),e.jsx(G,{})]})}export{U as default};
