import"./header-Ie7elkDg.js";import"./navbar-DLcVbhlS.js";const b=[e=>`Once upon a time, there was a ${e.adjective} ${e.noun} who loved to ${e.verb} ${e.adverb}. One day, while ${e.verb}ing through the forest, the ${e.noun} discovered a magical ${e.noun}. With a ${e.adjective} smile, the ${e.noun} decided to ${e.verb} it ${e.adverb}.`,e=>`In a land far away, a ${e.adjective} ${e.noun} learned how to ${e.verb} ${e.adverb}. The ${e.noun} practiced every day until it could ${e.verb} better than anyone else. People came from all over to see the ${e.adjective} ${e.noun} ${e.verb} so ${e.adverb}!`,e=>`There once was a ${e.noun} so ${e.adjective} that everyone stopped to stare. It would ${e.verb} ${e.adverb} through the town square, making people laugh and cheer. The ${e.noun}'s ${e.adjective} antics became legendary, told ${e.adverb} for generations.`],i=document.getElementById("story-form"),a=document.getElementById("story-output"),u=document.getElementById("story"),E=document.getElementById("play-again"),p=document.getElementById("share-story-twitter"),s=document.getElementById("noun"),m=document.getElementById("verb"),v=document.getElementById("adjective"),h=document.getElementById("adverb"),o=document.getElementById("generate"),d=o.querySelector(".button-text");function T(){const e=Math.floor(Math.random()*b.length);return b[e]}function I(e){e.preventDefault(),o.disabled=!0,o.classList.add("loading"),d.textContent="Creating your story...";const t={noun:s.value.trim(),verb:m.value.trim(),adjective:v.value.trim(),adverb:h.value.trim()};if(Object.values(t).some(n=>!n)){c("Please fill in all fields"),o.disabled=!1,o.classList.remove("loading"),d.textContent="Generate Story";return}try{const r=T()(t);u.textContent=r,i.reset(),a.hidden=!1,a.setAttribute("aria-hidden","false"),a.scrollIntoView({behavior:"smooth",block:"start"}),u.focus()}catch(n){console.error("Error generating story:",n),c("Oops! Something went wrong. Please try again.")}finally{o.disabled=!1,o.classList.remove("loading"),d.textContent="Generate Story"}}function c(e){const t=document.createElement("div");t.className="error-message",t.setAttribute("role","alert"),t.setAttribute("aria-live","assertive"),t.textContent=e;const n=document.querySelector(".error-message");n&&n.remove(),i.insertAdjacentElement("afterend",t);const r=[s,m,v,h].find(l=>!l.value.trim());r&&r.focus(),setTimeout(()=>{t.classList.add("fade-out"),setTimeout(()=>t.remove(),300)},5e3)}function x(){i.reset(),a.hidden=!0,a.setAttribute("aria-hidden","true"),s.focus(),window.scrollTo({top:0,behavior:"smooth"})}function B(){try{const e=u.textContent;if(!e){c("No story to share. Please generate a story first.");return}const t=255;let n=e;n.length>t&&(n=`${n.substring(0,t-3)}...`);const l=`https://twitter.com/intent/tweet?text=${encodeURIComponent(n)}&hashtags=MadLibs,StoryTime`,y=600,g=400,f=window.screen.width/2-y/2,$=window.screen.height/2-g/2;window.open(l,"twitter-share",`width=${y},height=${g},left=${f},top=${$}`)}catch(e){console.error("Error sharing to Twitter:",e),c("Could not share to Twitter. Please try again.")}}i.addEventListener("submit",I);E.addEventListener("click",x);p.addEventListener("click",B);i.addEventListener("keydown",e=>{e.target.tagName==="BUTTON"&&e.key==="Enter"&&(e.preventDefault(),e.target.click())});[s,m,v,h].forEach(e=>{e.addEventListener("blur",()=>{e.required&&!e.value.trim()?e.setAttribute("aria-invalid","true"):e.removeAttribute("aria-invalid")})});s.focus();document.documentElement.classList.add("js-enabled");
