import"./header-Bn00Eymn.js";import"./navbar-PAFhV-cJ.js";const s={USD:1,EUR:.85,GBP:.74,JPY:110.16,AUD:1.35,CAD:1.25,CHF:.92,CNY:6.47,INR:74.63},e={form:document.getElementById("converterForm"),amount:document.getElementById("amount"),fromCurrency:document.getElementById("fromCurrency"),toCurrency:document.getElementById("toCurrency"),result:document.getElementById("result"),customCurrency:document.getElementById("customCurrency"),addCurrencyButton:document.getElementById("addCurrencyButton"),errorContainer:document.getElementById("errorContainer")},a={INVALID_AMOUNT:"Please enter a valid amount greater than zero",INVALID_CURRENCY:"Please select valid currencies to convert between",INVALID_EXCHANGE_RATE:"Please enter a valid exchange rate greater than zero",CURRENCY_EXISTS:"This currency already exists",INVALID_CURRENCY_CODE:"Please enter a valid 3-letter currency code (e.g., CAD, JPY, AUD)"};function c(r){e.errorContainer.textContent=r,e.errorContainer.focus()}function m(){e.errorContainer.textContent=""}function y(r,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t||"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(r)}function C(){const r=Object.keys(s).sort(),t=e.fromCurrency.value,n=e.toCurrency.value;e.fromCurrency.innerHTML="",e.toCurrency.innerHTML="",r.forEach(u=>{const o=document.createElement("option");o.value=u,o.textContent=u;const i=o.cloneNode(!0);e.fromCurrency.appendChild(i);const d=o.cloneNode(!0);e.toCurrency.appendChild(d)}),t&&r.includes(t)?e.fromCurrency.value=t:e.fromCurrency.value="USD",n&&r.includes(n)?e.toCurrency.value=n:e.toCurrency.value="EUR"}function E(r){r&&r.preventDefault(),m();const t=parseFloat(e.amount.value),n=e.fromCurrency.value,u=e.toCurrency.value;if(isNaN(t)||t<=0){c(a.INVALID_AMOUNT),e.amount.focus();return}if(!n||!u){c(a.INVALID_CURRENCY);return}try{const i=t/s[n]*s[u];e.result.value=y(i,u)}catch(o){console.error("Currency conversion error:",o),c("An error occurred during conversion. Please try again.")}}function l(){const r=e.customCurrency.value.trim().toUpperCase();if(m(),!/^[A-Z]{3}$/.test(r)){c(a.INVALID_CURRENCY_CODE),e.customCurrency.focus();return}if(s[r]){c(`${a.CURRENCY_EXISTS}: ${r}`);return}const t=prompt(`Enter exchange rate for 1 USD to ${r}`),n=parseFloat(t);if(isNaN(n)||n<=0){c(a.INVALID_EXCHANGE_RATE);return}s[r]=n,C(),e.customCurrency.value="",e.amount.focus()}C();e.form.addEventListener("submit",E);e.addCurrencyButton.addEventListener("click",l);e.customCurrency.addEventListener("keydown",r=>{r.key==="Enter"&&(r.preventDefault(),l())});e.amount.addEventListener("input",m);e.customCurrency.addEventListener("input",m);e.amount.focus();
